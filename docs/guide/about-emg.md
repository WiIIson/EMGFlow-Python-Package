# About electromyography

## The nature of sEMG recordings

Surface electromyography (sEMG) is a non-invasive technique used to measure and quantify muscle activity by recording electrical signals generated during muscle contraction. Nearly all voluntary movements in the human body, ranging from simple gestures like smiling to complex actions such as lifting weights, depend on muscle contraction. These contractions occur when motor neurons in the central nervous system transmit electrical impulses to muscle fibers, causing the fibers to activate in groups known as motor units. Each motor unit consists of a motor neuron and the muscle fibers it innervates (McManus, De Vito, & Lowery, 2020; Stepp, 2012).

When a motor neuron fires, it triggers an action potential—a rapid wave of depolarization that travels along muscle fibers at a characteristic speed known as the muscle fiber conduction velocity (Lindstrom, Kadefors, & Petersen, 1977). Each action potential results in a small, brief muscular contraction called a "twitch." Although an individual twitch generates only minimal force, multiple twitches from different motor units overlap and combine over time, creating a sustained muscular force capable of driving functional movements like grasping, standing, or expressing emotions through facial expressions (De Luca, 2008).

Surface electromyography records the electrical potentials generated by these muscular actions using electrodes placed directly on the skin surface above the muscles of interest. By detecting the voltage differences caused by underlying action potentials, sEMG produces a continuous voltage time series. This voltage time series accurately reflects the timing, intensity, and pattern of muscle activity, providing a rich dataset for physiological analysis (_Electromyography (EMG)_, 2023; Fridlund & Cacioppo, 1986).

EMGFlow harnesses this raw voltage time series data to extract detailed statistical and spectral features, enabling researchers to quantify muscle performance comprehensively. This approach supports a variety of applications, including biomechanics research, motor disorder diagnosis, rehabilitation monitoring, ergonomics assessments, and advanced machine learning analyses for understanding motor control and muscle function.

## EMG Signal Processing Overview

EMG signal processing involves extracting meaningful insights from raw EMG data, represented as waves of electrical activity over time. Although a subset of broader signal processing methods, not all general techniques yield meaningful features for EMG analysis. For instance, audio-specific features such as pitch are irrelevant to EMG signals since they relate exclusively to auditory perception (Darji, 2017).

## Domains of EMG Features

EMG features typically fall into three domains:

- **Time-domain features**: Examine amplitude variations directly over time.
- **Frequency-domain features**: Analyze the signal by decomposing it into constituent frequencies and measuring their strengths.
- **Time-frequency domain features**: Combine both time and frequency analyses to track how frequencies evolve over the signal duration.

EMGFlow focuses primarily on time-domain and frequency-domain features (Chowdhury et al., 2013).

## Signal Processing and Visualization

Recorded EMG signals generally require preprocessing before meaningful analysis. Unlike structured numerical data, signal processing often requires indirect analytical methods. Key representations of EMG signals include:

- **Time-domain representation (raw signal)**: Shows amplitude fluctuations over time, forming distinct waveforms. Figure 1 illustrates an example of a combined EMG signal waveform, representing the raw voltage magnitude over time.

![Combined Signal](/figures/signal_combined.png)
*Figure 1. Combined EMG signal waveform showing raw voltage magnitude over time.*

- **Frequency-domain representation (decomposed signal)**: EMG signals can also be represented by their constituent frequencies. Figure 2 depicts how a raw EMG signal decomposes into underlying frequency components, helping identify key frequencies involved in muscle activation.

![Decomposed Signal](/figures/signal_deconstructed.png)
*Figure 2. Decomposition of the EMG signal into individual frequency components.*

- **Power Spectral Density (PSD)**: A PSD represents how signal power distributes across frequency components. Figure 3 provides an example PSD, plotting frequency against magnitude, clearly highlighting dominant frequencies within the EMG signal.

![Magnitude Analysis](/figures/signal_magnitude.png)
*Figure 3. Power Spectral Density (PSD) showing frequency vs. magnitude.*

Filtering EMG signals involves selectively enhancing or suppressing specific frequency components, directly affecting the PSD. Although changes may not immediately appear obvious in the raw waveform, frequency filtering significantly impacts signal quality and analytical results. Therefore, effective filtering typically leverages frequency-domain representations.

## EMGFlow Definitions

### Signal

In EMGFlow, signals are represented as Pandas DataFrames, typically read from CSV files. Standard EMGFlow DataFrames include:

- A `Time` column recording elapsed time (seconds).
- Additional columns for EMG signal magnitudes from each electrode.

Units for signal magnitudes should be consistent within each file to ensure accurate comparative analyses. The `Time` column is mainly for visualization purposes and is not essential for calculations if the sampling rate is known. Any column labeled `Time` will be treated as a time-reference and may be ignored during computations.

### Sampling Rate

The sampling rate (`sampling_rate`) defines how frequently data points were recorded per second. It is calculated as the inverse of the time interval between consecutive samples.

### Power Spectral Density (PSD)

A PSD DataFrame represents the frequency-domain view of an EMG signal obtained via Fourier transform. EMGFlow computes PSDs using Welch’s method, similar to a Long-Term Average Spectrum (LTAS). Welch’s method averages the power spectrum over overlapping segments, typically applying a Hann (Hanning) window to reduce noise at signal boundaries (Elowsson & Friberg, 2017; LDS Group, 2003).

## Sources

- Chowdhury, R. H., Reaz, M. B. I., Ali, M. A. B. M., Bakar, A. A. A., Chellappan, K., & Chang, T. G. (2013). Surface Electromyography Signal Processing and Classification Techniques. _Sensors_, _13_(9), Article 9. [https://doi.org/10.3390/s130912431](https://doi.org/10.3390/s130912431)
- Darji, M. (2017). Audio Signal Processing: A Review of Audio Signal Classification Features. _International Journal of Scientific Research in Computer Science, Engineering and Information Technology_, _2_(3), 227–230.
- _Electromyography (EMG)_. (2023, April 24). John Hopkins Medicine. [https://www.hopkinsmedicine.org/health/treatment-tests-and-therapies/electromyography-emg](https://www.hopkinsmedicine.org/health/treatment-tests-and-therapies/electromyography-emg)
- Elowsson, A., & Friberg, A. (2017). _Long-term Average Spectrum in Popular Music and its Relation to the Level of the Percussion_. 3. [https://www.researchgate.net/publication/317098414_Long-term_Average_Spectrum_in_Popular_Music_and_its_Relation_to_the_Level_of_the_Percussion](https://www.researchgate.net/publication/317098414_Long-term_Average_Spectrum_in_Popular_Music_and_its_Relation_to_the_Level_of_the_Percussion)
- LDS Group. (2003). Understanding FFT Windows. _Application Note ANO14_. [https://www.egr.msu.edu/classes/me451/me451_labs/Fall_2013/Understanding_FFT_Windows.pdf](https://www.egr.msu.edu/classes/me451/me451_labs/Fall_2013/Understanding_FFT_Windows.pdf)
- Lindstrom, L., Kadefors, R., & Petersen, I. (1977). An electromyographic index for localized160
muscle fatigue. Journal of Applied Physiology, 43(4), 750–754. [https://doi.org/10.1152/jappl.1977.43.4.750](https://doi.org/10.1152/jappl.1977.43.4.750)
